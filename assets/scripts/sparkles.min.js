function applySparkleEffect(t,a,o,i,s){document.querySelectorAll(t).forEach((function(t){createSparkle(t,{count:a,color:o,speed:i,overlap:s})}))}function createSparkle(t,a){const o=Object.assign({width:t.offsetWidth,height:t.offsetHeight,color:"#FFFFFF",count:30,overlap:0,speed:1},a);new Sparkle(t,o).over()}document.addEventListener("DOMContentLoaded",(function(){"use strict";applySparkleEffect(".sparkle",40,["#ff0080","#ff0080","#0000FF"],3,30),applySparkleEffect(".sparkle-more",30,["#ff0080","#ff0080","#0000FF"],10,10),applySparkleEffect(".sparkle-less",5,["#ff0080","#ff0080","#0000FF"],2,5)}));class Sparkle{constructor(t,a){this.options=a,this.init(t)}init(t){this.canvas=document.createElement("canvas"),this.canvas.classList.add("sparkle-canvas"),this.canvas.style.position="absolute",this.canvas.style.top=`-${this.options.overlap}px`,this.canvas.style.left=`-${this.options.overlap}px`,this.canvas.style.pointerEvents="none",t.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.sprite=new Image,this.sprites=[0,6,13,20],this.sprite.src=this.datauri,this.canvas.width=this.options.width+2*this.options.overlap,this.canvas.height=this.options.height+2*this.options.overlap,this.particles=this.createSparkles(this.canvas.width,this.canvas.height),this.anim=null,this.fade=!1}createSparkles(t,a){let o=[];for(let i=0;i<this.options.count;i++){let s=this.options.color;"rainbow"===this.options.color?s="#"+Math.floor(16777215*Math.random()).toString(16):Array.isArray(this.options.color)&&(s=this.options.color[Math.floor(Math.random()*this.options.color.length)]),o[i]={position:{x:Math.floor(Math.random()*t),y:Math.floor(Math.random()*a)},style:this.sprites[Math.floor(4*Math.random())],delta:{x:Math.floor(1e3*Math.random())-500,y:Math.abs(Math.floor(1e3*Math.random())-500)},size:parseFloat((2*Math.random()).toFixed(2)),color:s,opacity:Math.random()}}return o}draw(t,a){const o=this.context;o.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach((a=>{const i=Math.floor(7*Math.random());Math.floor(t)%i==0&&(a.style=this.sprites[Math.floor(4*Math.random())]),o.save(),o.globalAlpha=a.opacity,o.drawImage(this.sprite,a.style,0,7,7,a.position.x,a.position.y,7,7),this.options.color&&(o.globalCompositeOperation="source-atop",o.globalAlpha=.5,o.fillStyle=a.color,o.fillRect(a.position.x,a.position.y,7,7)),o.restore()}))}update(){const t=this;this.anim=requestAnimationFrame((function(a){t.particles.forEach((a=>{const o=Math.random()>2*Math.random(),i=Math.random()>3*Math.random();o&&(a.position.x+=a.delta.x*t.options.speed/1500),i||(a.position.y-=a.delta.y*t.options.speed/800),a.position.x>t.canvas.width&&(a.position.x=-7),a.position.x<-7&&(a.position.x=t.canvas.width),a.position.y>t.canvas.height&&(a.position.y=-7),a.position.y<-7&&(a.position.y=t.canvas.height),t.fade?a.opacity-=.02:a.opacity-=.005,a.opacity<=0&&(a.opacity=t.fade?0:1)})),t.draw(a),t.fade?(t.fadeCount-=1,t.fadeCount<0?cancelAnimationFrame(t.anim):t.update()):t.update()}))}cancel(){this.fadeCount=100}over(){cancelAnimationFrame(this.anim),this.particles.forEach((t=>{t.opacity=Math.random()})),this.fade=!1,this.update()}out(){this.fade=!0,this.cancel()}get datauri(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAHCAYAAAD5wDa1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDNFMzM5REEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDNFMzM5RUEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0M0UzMzlCQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0M0UzMzlDQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jzOsUQAAANhJREFUeNqsks0KhCAUhW/Sz6pFSc1AD9HL+OBFbdsVOKWLajH9EE7GFBEjOMxcUNHD8dxPBCEE/DKyLGMqraoqcd4j0ChpUmlBEGCFRBzH2dbj5JycJAn90CEpy1J2SK4apVSM4yiKonhePYwxMU2TaJrm8BpykpWmKQ3D8FbX9SOO4/tOhDEG0zRhGAZo2xaiKDLyPGeSyPM8sCxr868+WC/mvu9j13XBtm1ACME8z7AsC/R9r0fGOf+arOu6jUwS7l6tT/B+xo+aDFRo5BykHfav3/gSYAAtIdQ1IT0puAAAAABJRU5ErkJggg=="}}